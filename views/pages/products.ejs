<!-- Products Banner -->
<section class="py-12 bg-primary-50">
  <div class="container mx-auto px-4">
    <div class="max-w-3xl mx-auto text-center" data-aos="fade-up">
      <h1 class="text-4xl md:text-5xl font-bold text-gray-800 mb-4">Our Products</h1>
      <p class="text-lg text-gray-600">
        Explore our collection of high-quality products for children.
      </p>
    </div>
  </div>
</section>

<!-- Category Filter -->
<section class="py-8 bg-white border-b">
  <div class="container mx-auto px-4">
    <div class="flex flex-wrap items-center justify-center gap-3" data-aos="fade-up">
      <a href="/products" class="px-5 py-2 rounded-full text-sm font-medium transition-colors <%= currentCategory === 'all' ? 'bg-primary-500 text-white' : 'bg-gray-100 text-gray-700 hover:bg-gray-200' %>">
        All Products
      </a>
      
      <% categories.forEach(function(category) { %>
        <a href="/products?category=<%= category %>" class="px-5 py-2 rounded-full text-sm font-medium transition-colors <%= currentCategory === category ? 'bg-primary-500 text-white' : 'bg-gray-100 text-gray-700 hover:bg-gray-200' %>">
          <%= category.charAt(0).toUpperCase() + category.slice(1) %>
        </a>
      <% }); %>
    </div>
  </div>
</section>

<!-- Products Grid -->
<section class="py-12 bg-gray-50">
  <div class="container mx-auto px-4">
    <% if (products.length > 0) { %>
      <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6">
        <% products.forEach(function(product) { %>
          <div class="product-card card" data-aos="fade-up" data-aos-delay="<%= Math.floor(Math.random() * 300) %>">
            <div class="relative overflow-hidden h-64">
              <img src="<%= product.image %>" alt="<%= product.name %>" class="w-full h-full object-contain p-4">
              <div class="add-to-cart absolute inset-0 bg-black bg-opacity-40 flex items-center justify-center opacity-0 transition-opacity duration-300">
                <a href="/products/<%= product._id %>" class="btn-secondary text-sm">
                  View Details
                </a>
              </div>
            </div>
            <div class="p-4">
              <h3 class="font-medium text-lg mb-1"><%= product.name %></h3>
              <p class="text-gray-500 text-sm mb-2"><%= product.category.charAt(0).toUpperCase() + product.category.slice(1) %></p>
              <div class="flex justify-between items-center">
                <span class="font-bold text-primary-600">$<%= product.price.toFixed(2) %></span>
                <button 
                  class="whatsapp-btn text-green-500 hover:text-green-600"
                  data-name="<%= product.name %>"
                  data-price="<%= product.price.toFixed(2) %>"
                  data-whatsapp="<%= contactInfo.whatsapp %>">
                  <i class="fab fa-whatsapp text-lg"></i>
                </button>
              </div>
            </div>
          </div>
        <% }); %>
      </div>
    <% } else { %>
      <div class="text-center py-16">
        <div class="text-5xl mb-4 text-gray-300">
          <i class="fas fa-box-open"></i>
        </div>
        <h2 class="text-2xl font-bold text-gray-800 mb-2">No Products Found</h2>
        <p class="text-gray-600 mb-6">We couldn't find any products in this category.</p>
        <a href="/products" class="btn-primary">View All Products</a>
      </div>
    <% } %>
  </div>
</section>

<!-- Floating WhatsApp Button -->
<div class="fixed bottom-6 right-6 z-50" data-aos="fade-up" data-aos-offset="0" data-aos-delay="1200">
  <a href="https://wa.me/<%= contactInfo.whatsapp %>" target="_blank" class="flex items-center justify-center w-14 h-14 rounded-full bg-green-500 text-white shadow-lg hover:bg-green-600 transition-colors">
    <i class="fab fa-whatsapp text-2xl"></i>
  </a>
</div>